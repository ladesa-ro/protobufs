syntax = "proto3";

package ladesa.timetable_generator.v1.dtos;
option csharp_namespace = "Ladesa.TimetableGenerator.v1.Protobuf";

import "core/application/dtos/generate_request.proto";
import "core/domain/entities/generated_timetable.proto";

message ServiceGenerateResponseDto {
  string request_id = 1;
  bool is_successful = 2;
  
  oneof result {
    ServiceGenerateResponseResultSuccessDto result_success = 3;
    ServiceGenerateResponseResultErrorDto result_error = 4;
  }

  string date_time_issued = 5;
}

message ServiceGenerateResponseResultSuccessDto {
  string request_id = 1;
  GenerateRequestDto generate_request = 2;
  repeated entities.GeneratedTimetable generated_timetables = 3;
}


message ServiceGenerateResponseResultErrorDto {
  string error_code = 1;
  string error_message = 2;
  optional string additional_info = 3;
}
